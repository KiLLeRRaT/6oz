!function(e,t){"use strict";"function"==typeof define&&define.amd?define(t):"object"==typeof module&&module.exports?module.exports=t():e.log=t()}(this,function(){"use strict";function e(e,t){var n=e[t];if("function"==typeof n.bind)return n.bind(e);try{return Function.prototype.bind.call(n,e)}catch(t){return function(){return Function.prototype.apply.apply(n,[e,arguments])}}}function t(e,t){for(var n=0;n<l.length;n++){var o=l[n];this[o]=e>n?r:this.methodFactory(o,e,t)}}function n(n,o,l){return i=n,typeof console!==a&&(void 0!==console[i]?e(console,i):void 0!==console.log?e(console,"log"):r)||function(e,n,o){return function(){typeof console!==a&&(t.call(this,n,o),this[e].apply(this,arguments))}}.apply(this,arguments);var i}function o(e,o,r){function i(){var e;try{e=window.localStorage[c]}catch(e){}if(typeof e===a)try{var t=window.document.cookie,n=t.indexOf(encodeURIComponent(c)+"=");n&&(e=/^([^;]+)/.exec(t.slice(n))[1])}catch(e){}return void 0===s.levels[e]&&(e=void 0),e}var u,s=this,c="loglevel";e&&(c+=":"+e),s.levels={TRACE:0,DEBUG:1,INFO:2,WARN:3,ERROR:4,SILENT:5},s.methodFactory=r||n,s.getLevel=function(){return u},s.setLevel=function(n,o){if("string"==typeof n&&void 0!==s.levels[n.toUpperCase()]&&(n=s.levels[n.toUpperCase()]),!("number"==typeof n&&n>=0&&n<=s.levels.SILENT))throw"log.setLevel() called with invalid level: "+n;return u=n,!1!==o&&function(e){var t=(l[e]||"silent").toUpperCase();try{return void(window.localStorage[c]=t)}catch(e){}try{window.document.cookie=encodeURIComponent(c)+"="+t+";"}catch(e){}}(n),t.call(s,n,e),typeof console===a&&n<s.levels.SILENT?"No console available for logging":void 0},s.setDefaultLevel=function(e){i()||s.setLevel(e,!1)},s.enableAll=function(e){s.setLevel(s.levels.TRACE,e)},s.disableAll=function(e){s.setLevel(s.levels.SILENT,e)};var p=i();null==p&&(p=null==o?"WARN":o),s.setLevel(p,!1)}var r=function(){},a="undefined",l=["trace","debug","info","warn","error"],i=new o,u={};i.getLogger=function(e){if("string"!=typeof e||""===e)throw new TypeError("You must supply a name when creating a logger.");var t=u[e];return t||(t=u[e]=new o(e,i.getLevel(),i.methodFactory)),t};var s=typeof window!==a?window.log:void 0;return i.noConflict=function(){return typeof window!==a&&window.log===i&&(window.log=s),i},i});var __escapeHTML=function(e){return e?("string"!=typeof e&&(e=e.toString()),e.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#39;")):""};!function(){"use strict";var e,t,n,o,r,a,l,i=(e=/[\s\n]/,t=/[\s\n]/g,n=/<\/?(?:[A-Za-z]+\w*)|<!--/,o=/(?:(?:&(?:amp|gt|lt|nbsp|quot);)|"|\\|\n)/g,r={"&amp;":"&","&gt;":">","&lt;":"<","&nbsp;":" ","&quot;":'\\"',"\\":"\\\\",'"':'\\"',"\n":"\\n"},function(a){for(var l,i=a.length,u=[],s=0;s<i;){var c=a[s];if("<"===c)if(s++,"!--"===a.substring(s,s+3)){s+=3;var p=a.indexOf("--\x3e",s);s=-1===p?i:p+3}else{var f={type:"Tag",value:""},v="",d={},g=!1,m=!1;for("/"===(c=a[s])&&(c=a[++s],g=!0);s<i&&">"!==c&&"/"!==c&&!1===e.test(c);)v+=c,c=a[++s];for(;s<i&&">"!==c&&("/"!==c||">"!==a[s+1]);)if(!0===e.test(c))c=a[++s];else{for(var h="",y="";s<i&&"="!==c&&!1===e.test(c)&&">"!==c&&("/"!==c||">"!==a[s+1]);)h+=c,c=a[++s];if("="===c){var w=" ",b=!1,L=0;for('"'!==(c=a[++s])&&"'"!==c&&" "!==c&&"\n"!==c&&"{"!==c||(w=(b="{"===c)?"}":c,c=a[++s]),b&&(y+="{");s<i&&">"!==c&&("/"!==c||">"!==a[s+1]);){if((!b||b&&L<=0)&&c===w){b&&(y+="}"),c=a[++s];break}y+=c,"{"===c?L++:"}"===c&&L--,c=a[++s]}}var I={name:h,value:y,argument:void 0,data:{}},C=h.split(":");2===C.length&&(I.name=C[0],I.argument=C[1]),d[h]=I}"/"===c?(s+=2,m=!0):s++,f.value=v,f.attributes=d,f.closeStart=g,f.closeEnd=m,u.push(f)}else{var E,T=a.substring(s),x=T.search(n);-1===x?(E=T,s=i):(E=T.substring(0,x),s+=x),0!==(l=E,l.replace(t,"")).length&&u.push({type:"Text",value:E.replace(o,function(e){return r[e]})})}}return u}),u=(a={},l={start:"<%",end:"%>"},function e(t,n){var o=/\W/.test(t)?new Function("obj","var p=[],print=function(){p.push.apply(p,arguments);};obj = obj || {};with(obj){p.push('"+t.replace(new RegExp("{(.+?(}+)?)}","g"),"',__6oz.registerData($1),'").replace(/[\r\t\n]/g," ").replace(new RegExp("'(?=[^"+l.end.substr(0,1)+"]*"+l.end+")","g"),"\t").split("(?!})'(?!{)").join("\\'").split("\t").join("'").replace(new RegExp(l.start+":(.+?)"+l.end,"g"),"',__escapeHTML($1),'").replace(new RegExp(l.start+"=(.+?)"+l.end,"g"),"',$1,'").split(l.start).join("');").split(l.end).join("p.push('")+"');}return p.join('');"):a[t]=a[t]||e(document.getElementById(t).innerHTML);return n?o(n):o}),s=/^on[a-z]+$/i,c="__data",p=">>[6oz.js] ",f={},v=log.getLogger("6oz logger"),d={},g={},m={};function h(e,t,n){for(var o,r=[],a=0,l=e.length;a<l;a++){var i=e[a],u=i.type,s=i.value,p=(o=s)&&o.indexOf("-")>-1;if("ComponentStart"==u)m[i.attributes.componentID]=t,r.push("(function (o) {");else if("ComponentEnd"==u)r.push("})("+c+'["'+i.attributes.componentID+'"]);');else if("Tag"==u)if(i.closeStart&&!p)r.push('IncrementalDOM.elementClose("'+s+'");');else if(p){var f=w(i);if(!1===f)continue;r=r.concat(f)}else{var v=y(i,t,n),d=null==v.elementKeyID?"null":'"'+v.elementKeyID+'"';r.push("IncrementalDOM."+v.elementType+'("'+s+'",'+d+",null"+v.tagAttributesString+");")}else"Text"==u&&r.push('IncrementalDOM.text("'+s+'");')}return r}function y(e,t,n){if(!e)return!1;var o=e.attributes,r=[],a=e.closeEnd?"elementVoid":"elementOpen",l=null,i=function(e,t){if(-1==t.indexOf("."))return e[t];for(var n=t.split("."),o=e,r=!0,a=0,l=n.length;a<l;a++){var i=o[n[a]];if(!i){r=!1;break}o=i}return r?o:void 0};if(Object.keys(o).length>0)for(var u in o){var c=o[u],f=c.name,d=c.value,g=s.test(f);if("key-id"!=f.toLowerCase())if(r.push('"'+c.name+'"'),g)"function"==typeof i(t,d)?r.push(n+"."+d):(v.warn(p+"Could not find the function "+d+" so event was not bound."),r.pop());else r.push('"'+c.value+'"');else l=d}return{elementType:a,tagAttributesString:r.length>0?","+r.join(","):"",elementKeyID:l}}function w(e){var t=e.value.toLowerCase(),n=d[t];if(!n)return!1;var o,r,a=e.attributes,l={};for(var s in a){var c=a[s].value,p=(o=c)&&/^\{(.*)\}$/.exec(o);if(p&&p.length>1&&p[1]){var f=p[1];g[f]?l[s]=g[f]:l[s]=void 0}else l[s]=c}var v={props:l};void 0!==n.controller&&(r=new n.controller(l),v.controller=r);var m=u(n.template,v),y=i(m),w=b();for(var L in y.unshift({type:"ComponentStart",attributes:{componentID:w}}),y.push({type:"ComponentEnd",attributes:{componentID:w}}),l.props={},l)l.props[L]=l[L];return void 0!==r&&(l.controller=r),h(y,l,"o")}function b(){function e(){return(65536*(1+Math.random())|0).toString(16).substring(1)}return(e()+e()+"-"+e()+"-4"+e().substr(0,3)+"-"+e()+"-"+e()+e()+e()).toLowerCase()}f.applyToDOM=function e(t,n,o){var r=u(n,o.data),a=h(i(r),o.functions,c+".__fn"),l=new Function(c,a.join(""));return m.__fn=o.functions,IncrementalDOM.patch(t,l,m),g={},m={},{update:function(o){e(t,n,o)}}},f.addComponent=function(e){if(!(e=e||{}).componentName||!e.template)return v.warn(p+"You must provide a componentName and template."),!1;var t,n=e.componentName.toLowerCase(),o=e.controller;if(/-[a-zA-Z0-9]+[^-]?$/.test(n)){if(!d[n])return void 0!==o&&"function"==typeof o&&(t=o),d[n]={template:e.template,controller:t},!0;v.warn(p+"A component with name "+n+" has already been added.")}else v.warn(p+"You must provide a valid component name ["+n+"].  It must be kebab case, must contain at least one hyphen, and must not end with a hyphen.")},f.registerData=function(e){var t=b();return g[t]=e,"{"+t+"}"},window.__6oz=f}();