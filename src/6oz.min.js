!function(e,t){"use strict";"function"==typeof define&&define.amd?define(t):"object"==typeof module&&module.exports?module.exports=t():e.log=t()}(this,function(){"use strict";function e(e,t){var n=e[t];if("function"==typeof n.bind)return n.bind(e);try{return Function.prototype.bind.call(n,e)}catch(t){return function(){return Function.prototype.apply.apply(n,[e,arguments])}}}function t(e,t){for(var n=0;n<i.length;n++){var o=i[n];this[o]=e>n?r:this.methodFactory(o,e,t)}}function n(n,o,i){return l=n,typeof console!==a&&(void 0!==console[l]?e(console,l):void 0!==console.log?e(console,"log"):r)||function(e,n,o){return function(){typeof console!==a&&(t.call(this,n,o),this[e].apply(this,arguments))}}.apply(this,arguments);var l}function o(e,o,r){function l(){var e;try{e=window.localStorage[p]}catch(e){}if(typeof e===a)try{var t=window.document.cookie,n=t.indexOf(encodeURIComponent(p)+"=");n&&(e=/^([^;]+)/.exec(t.slice(n))[1])}catch(e){}return void 0===s.levels[e]&&(e=void 0),e}var u,s=this,p="loglevel";e&&(p+=":"+e),s.levels={TRACE:0,DEBUG:1,INFO:2,WARN:3,ERROR:4,SILENT:5},s.methodFactory=r||n,s.getLevel=function(){return u},s.setLevel=function(n,o){if("string"==typeof n&&void 0!==s.levels[n.toUpperCase()]&&(n=s.levels[n.toUpperCase()]),!("number"==typeof n&&n>=0&&n<=s.levels.SILENT))throw"log.setLevel() called with invalid level: "+n;return u=n,!1!==o&&function(e){var t=(i[e]||"silent").toUpperCase();try{return void(window.localStorage[p]=t)}catch(e){}try{window.document.cookie=encodeURIComponent(p)+"="+t+";"}catch(e){}}(n),t.call(s,n,e),typeof console===a&&n<s.levels.SILENT?"No console available for logging":void 0},s.setDefaultLevel=function(e){l()||s.setLevel(e,!1)},s.enableAll=function(e){s.setLevel(s.levels.TRACE,e)},s.disableAll=function(e){s.setLevel(s.levels.SILENT,e)};var c=l();null==c&&(c=null==o?"WARN":o),s.setLevel(c,!1)}var r=function(){},a="undefined",i=["trace","debug","info","warn","error"],l=new o,u={};l.getLogger=function(e){if("string"!=typeof e||""===e)throw new TypeError("You must supply a name when creating a logger.");var t=u[e];return t||(t=u[e]=new o(e,l.getLevel(),l.methodFactory)),t};var s=typeof window!==a?window.log:void 0;return l.noConflict=function(){return typeof window!==a&&window.log===l&&(window.log=s),l},l});var __escapeHTML=function(e){return e?("string"!=typeof e&&(e=e.toString()),e.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#39;")):""};!function(){"use strict";var e,t,n,o,r,a,i,l=(e=/[\s\n]/,t=/[\s\n]/g,n=/<\/?(?:[A-Za-z]+\w*)|<!--/,o=/(?:(?:&(?:amp|gt|lt|nbsp|quot);)|"|\\|\n)/g,r={"&amp;":"&","&gt;":">","&lt;":"<","&nbsp;":" ","&quot;":'\\"',"\\":"\\\\",'"':'\\"',"\n":"\\n"},function(a){for(var i,l=a.length,u=[],s=0;s<l;){var p=a[s];if("<"===p)if(s++,"!--"===a.substring(s,s+3)){s+=3;var c=a.indexOf("--\x3e",s);s=-1===c?l:c+3}else{var f={type:"Tag",value:""},v="",d={},g=!1,m=!1;for("/"===(p=a[s])&&(p=a[++s],g=!0);s<l&&">"!==p&&"/"!==p&&!1===e.test(p);)v+=p,p=a[++s];for(;s<l&&">"!==p&&("/"!==p||">"!==a[s+1]);)if(!0===e.test(p))p=a[++s];else{for(var h="",y="";s<l&&"="!==p&&!1===e.test(p)&&">"!==p&&("/"!==p||">"!==a[s+1]);)h+=p,p=a[++s];if("="===p){var w=" ",b=!1,L=0;for('"'!==(p=a[++s])&&"'"!==p&&" "!==p&&"\n"!==p&&"{"!==p||(w=(b="{"===p)?"}":p,p=a[++s]),b&&(y+="{");s<l&&">"!==p&&("/"!==p||">"!==a[s+1]);){if((!b||b&&L<=0)&&p===w){b&&(y+="}"),p=a[++s];break}y+=p,"{"===p?L++:"}"===p&&L--,p=a[++s]}}var I={name:h,value:y,argument:void 0,data:{}},C=h.split(":");2===C.length&&(I.name=C[0],I.argument=C[1]),d[h]=I}"/"===p?(s+=2,m=!0):s++,f.value=v,f.attributes=d,f.closeStart=g,f.closeEnd=m,u.push(f)}else{var E,x=a.substring(s),D=x.search(n);-1===D?(E=x,s=l):(E=x.substring(0,D),s+=D),0!==(i=E,i.replace(t,"")).length&&u.push({type:"Text",value:E.replace(o,function(e){return r[e]})})}}return u}),u=(a={},i={start:"<%",end:"%>"},function e(t,n){var o=/\W/.test(t)?new Function("obj","var p=[],print=function(){p.push.apply(p,arguments);};obj = obj || {};with(obj){p.push('"+t.replace(new RegExp("={(.+?(}+)?)}","g"),"=',__6oz.registerData($1),'").replace(/[\r\t\n]/g," ").replace(new RegExp("'(?=[^"+i.end.substr(0,1)+"]*"+i.end+")","g"),"\t").split("(?!})'(?!{)").join("\\'").split("\t").join("'").replace(new RegExp(i.start+":(.+?)"+i.end,"g"),"',__escapeHTML($1),'").replace(new RegExp(i.start+"=(.+?)"+i.end,"g"),"',$1,'").split(i.start).join("');").split(i.end).join("p.push('")+"');}return p.join('');"):a[t]=a[t]||e(document.getElementById(t).innerHTML);return n?o(n):o}),s=/^on[a-z]+$/i,p=/^props$/i,c="__data",f=">>[6oz.js] ",v={},d=log.getLogger("6oz logger"),g={},m={},h={};function y(e,t,n){for(var o,r=[],a=0,i=e.length;a<i;a++){var l=e[a],u=l.type,s=l.value,p=(o=s)&&o.indexOf("-")>-1;if("ComponentStart"==u)h[l.attributes.componentID]=t,r.push("(function (o) {");else if("ComponentEnd"==u)r.push("})("+c+'["'+l.attributes.componentID+'"]);');else if("Tag"==u)if(l.closeStart&&!p)r.push('IncrementalDOM.elementClose("'+s+'");');else if(p){var f=b(l);if(!1===f)continue;r=r.concat(f)}else{var v=w(l,t,n),d=null==v.elementKeyID?"null":'"'+v.elementKeyID+'"';r.push("IncrementalDOM."+v.elementType+'("'+s+'",'+d+",null"+v.tagAttributesString+");")}else"Text"==u&&r.push('IncrementalDOM.text("'+s+'");')}return r}function w(e,t,n){if(!e)return!1;var o=e.attributes,r=[],a=e.closeEnd?"elementVoid":"elementOpen",i=null,l=function(e,t){if(-1==t.indexOf("."))return e[t];for(var n=t.split("."),o=e,r=!0,a=0,i=n.length;a<i;a++){var l=o[n[a]];if(!l){r=!1;break}o=l}return r?o:void 0};if(Object.keys(o).length>0)for(var u in o){var v=o[u],g=v.name,y=v.value,w=s.test(g),b=p.test(g);if("key-id"!=g.toLowerCase())if(r.push('"'+v.name+'"'),w)"function"==typeof l(t,y)?r.push(n+"."+y):(d.warn(f+"Could not find the function "+y+" so event was not bound."),r.pop());else if(b){h.attributeProps||(h.attributeProps={});var L='"'+v.value+'"',I=/\{([a-zA-Z0-9\-]+)\}/.exec(y);I&&I.length>1&&(I=I[1],h.attributeProps[I]=m[I],L=c+".attributeProps['"+I+"']"),r.push(L)}else r.push('"'+y+'"');else i=y}return{elementType:a,tagAttributesString:r.length>0?","+r.join(","):"",elementKeyID:i}}function b(e){var t=e.value.toLowerCase(),n=g[t];if(!n)return!1;var o,r,a=e.attributes,i={};for(var s in a){var p=a[s].value,c=(o=p)&&/^\{(.*)\}$/.exec(o);if(c&&c.length>1&&c[1]){var f=c[1];m[f]?i[s]=m[f]:i[s]=void 0}else i[s]=p}var v={props:i};void 0!==n.controller&&(r=new n.controller(i),v.controller=r);var d=u(n.template,v),h=l(d),w=L();for(var b in h.unshift({type:"ComponentStart",attributes:{componentID:w}}),h.push({type:"ComponentEnd",attributes:{componentID:w}}),i.props={},i)i.props[b]=i[b];return void 0!==r&&(i.controller=r),y(h,i,"o")}function L(){function e(){return(65536*(1+Math.random())|0).toString(16).substring(1)}return(e()+e()+"-"+e()+"-4"+e().substr(0,3)+"-"+e()+"-"+e()+e()+e()).toLowerCase()}v.applyToDOM=function e(t,n,o){var r=u(n,o.data),a=y(l(r),o.functions,c+".__fn"),i=new Function(c,a.join(""));return h.__fn=o.functions,IncrementalDOM.patch(t,i,h),m={},h={},{update:function(o){e(t,n,o)}}},v.addComponent=function(e){if(!(e=e||{}).componentName||!e.template)return d.warn(f+"You must provide a componentName and template."),!1;var t,n=e.componentName.toLowerCase(),o=e.controller;if(/-[a-zA-Z0-9]+[^-]?$/.test(n)){if(!g[n])return void 0!==o&&"function"==typeof o&&(t=o),g[n]={template:e.template,controller:t},!0;d.warn(f+"A component with name "+n+" has already been added.")}else d.warn(f+"You must provide a valid component name ["+n+"].  It must be kebab case, must contain at least one hyphen, and must not end with a hyphen.")},v.registerData=function(e){var t=L();return m[t]=e,"{"+t+"}"},window.__6oz=v,IncrementalDOM.attributes.props=function(e,t,n){e[t]=n}}();