!function(e,t){"use strict";"function"==typeof define&&define.amd?define(t):"object"==typeof module&&module.exports?module.exports=t():e.log=t()}(this,function(){"use strict";function r(t,e){var n=t[e];if("function"==typeof n.bind)return n.bind(t);try{return Function.prototype.bind.call(n,t)}catch(e){return function(){return Function.prototype.apply.apply(n,[t,arguments])}}}function u(e,t){for(var n=0;n<c.length;n++){var o=c[n];this[o]=n<e?a:this.methodFactory(o,e,t)}}function s(e,t,n){return o=e,typeof console!==p&&(void 0!==console[o]?r(console,o):void 0!==console.log?r(console,"log"):a)||function(e,t,n){return function(){typeof console!==p&&(u.call(this,t,n),this[e].apply(this,arguments))}}.apply(this,arguments);var o}function n(n,e,t){function o(){var e;try{e=window.localStorage[i]}catch(e){}if(typeof e===p)try{var t=window.document.cookie,n=t.indexOf(encodeURIComponent(i)+"=");n&&(e=/^([^;]+)/.exec(t.slice(n))[1])}catch(e){}return void 0===a.levels[e]&&(e=void 0),e}var r,a=this,i="loglevel";n&&(i+=":"+n),a.levels={TRACE:0,DEBUG:1,INFO:2,WARN:3,ERROR:4,SILENT:5},a.methodFactory=t||s,a.getLevel=function(){return r},a.setLevel=function(e,t){if("string"==typeof e&&void 0!==a.levels[e.toUpperCase()]&&(e=a.levels[e.toUpperCase()]),!("number"==typeof e&&0<=e&&e<=a.levels.SILENT))throw"log.setLevel() called with invalid level: "+e;return r=e,!1!==t&&function(e){var t=(c[e]||"silent").toUpperCase();try{return window.localStorage[i]=t}catch(e){}try{window.document.cookie=encodeURIComponent(i)+"="+t+";"}catch(e){}}(e),u.call(a,e,n),typeof console===p&&e<a.levels.SILENT?"No console available for logging":void 0},a.setDefaultLevel=function(e){o()||a.setLevel(e,!1)},a.enableAll=function(e){a.setLevel(a.levels.TRACE,e)},a.disableAll=function(e){a.setLevel(a.levels.SILENT,e)};var l=o();null==l&&(l=null==e?"WARN":e),a.setLevel(l,!1)}var a=function(){},p="undefined",c=["trace","debug","info","warn","error"],o=new n,i={};o.getLogger=function(e){if("string"!=typeof e||""===e)throw new TypeError("You must supply a name when creating a logger.");var t=i[e];return t||(t=i[e]=new n(e,o.getLevel(),o.methodFactory)),t};var e=typeof window!==p?window.log:void 0;return o.noConflict=function(){return typeof window!==p&&window.log===o&&(window.log=e),o},o});var __escapeHTML=function(e){return e?("string"!=typeof e&&(e=e.toString()),e.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#39;")):""};!function(){"use strict";var I,C,E,x,D,r,a,m=(I=/[\s\n]/,C=/[\s\n]/g,E=/<\/?(?:[A-Za-z]+\w*)|<!--/,x=/(?:(?:&(?:amp|gt|lt|nbsp|quot);)|"|\\|\n)/g,D={"&amp;":"&","&gt;":">","&lt;":"<","&nbsp;":" ","&quot;":'\\"',"\\":"\\\\",'"':'\\"',"\n":"\\n"},function(e){for(var t,n=e.length,o=[],r=0;r<n;){var a=e[r];if("<"===a)if(r++,"!--"===e.substring(r,r+3)){r+=3;var i=e.indexOf("--\x3e",r);r=-1===i?n:i+3}else{var l={type:"Tag",value:""},u="",s={},p=!1,c=!1;for("/"===(a=e[r])&&(a=e[++r],p=!0);r<n&&">"!==a&&"/"!==a&&!1===I.test(a);)u+=a,a=e[++r];for(;r<n&&">"!==a&&("/"!==a||">"!==e[r+1]);)if(!0===I.test(a))a=e[++r];else{for(var f="",v="";r<n&&"="!==a&&!1===I.test(a)&&">"!==a&&("/"!==a||">"!==e[r+1]);)f+=a,a=e[++r];if("="===a){var d=" ",g=!1,m=0;for('"'!==(a=e[++r])&&"'"!==a&&" "!==a&&"\n"!==a&&"{"!==a||(d=(g="{"===a)?"}":a,a=e[++r]),g&&(v+="{");r<n&&">"!==a&&("/"!==a||">"!==e[r+1]);){if((!g||g&&m<=0)&&a===d){g&&(v+="}"),a=e[++r];break}v+=a,"{"===a?m++:"}"===a&&m--,a=e[++r]}}var h={name:f,value:v,argument:void 0,data:{}},y=f.split(":");2===y.length&&(h.name=y[0],h.argument=y[1]),s[f]=h}"/"===a?(r+=2,c=!0):r++,l.value=u,l.attributes=s,l.closeStart=p,l.closeEnd=c,o.push(l)}else{var w,b=e.substring(r),L=b.search(E);-1===L?(w=b,r=n):(w=b.substring(0,L),r+=L),0!==(t=w,t.replace(C,"")).length&&o.push({type:"Text",value:w.replace(x,function(e){return D[e]})})}}return o}),h=(r={},a={start:"<%",end:"%>"},function e(t,n){var o=/\W/.test(t)?new Function("obj","var p=[],print=function(){p.push.apply(p,arguments);};obj = obj || {};with(obj){p.push('"+t.replace(new RegExp("={(.+?(}+)?)}","g"),"=',__6oz.registerData($1),'").replace(/[\r\t\n]/g," ").replace(new RegExp("'(?=[^"+a.end.substr(0,1)+"]*"+a.end+")","g"),"\t").split("(?!})'(?!{)").join("\\'").split("\t").join("'").replace(new RegExp(a.start+":(.+?)"+a.end,"g"),"',__escapeHTML($1),'").replace(new RegExp(a.start+"=(.+?)"+a.end,"g"),"',$1,'").split(a.start).join("');").split(a.end).join("p.push('")+"');}return p.join('');"):r[t]=r[t]||e(document.getElementById(t).innerHTML);return n?o(n):o}),y=/^on[a-z]+$/i,w=/^props$/i,b="__data",L=">>[6oz.js] ",e={},T=log.getLogger("6oz logger"),j={},O={},S={};function _(e,t,n){for(var o,r=[],a=0,i=e.length;a<i;a++){var l=e[a],u=l.type,s=l.value,p=(o=s)&&-1<o.indexOf("-");if("ComponentStart"==u)S[l.attributes.componentID]=t,r.push("(function (o) {");else if("ComponentEnd"==u)r.push("})("+b+'["'+l.attributes.componentID+'"]);');else if("Tag"==u)if(l.closeStart&&!p)r.push('IncrementalDOM.elementClose("'+s+'");');else if(p){var c=g(l);if(!1===c)continue;r=r.concat(c)}else{var f=d(l,t,n),v=null==f.elementKeyID?"null":'"'+f.elementKeyID+'"';r.push("IncrementalDOM."+f.elementType+'("'+s+'",'+v+",null"+f.tagAttributesString+");")}else"Text"==u&&r.push('IncrementalDOM.text("'+s.replace(/(?:\r\n|\r|\n)/g,"")+'");')}return r}function d(e,t,n){if(!e)return!1;var o=e.attributes,r=[],a=e.closeEnd?"elementVoid":"elementOpen",i=null,l=function(e,t){if(-1==t.indexOf("."))return e[t];for(var n=t.split("."),o=e,r=!0,a=0,i=n.length;a<i;a++){var l=o[n[a]];if(!l){r=!1;break}o=l}return r?o:void 0};if(0<Object.keys(o).length)for(var u in o){var s=o[u],p=s.name,c=s.value.replace(/(?:\r\n|\r|\n)/g,""),f=y.test(p),v=w.test(p);if("key-id"!=p.toLowerCase())if(r.push('"'+s.name+'"'),f)"function"==typeof l(t,c)?r.push(n+"."+c):(T.warn(L+"Could not find the function "+c+" so event was not bound."),r.pop());else if(v){S.attributeProps||(S.attributeProps={});var d='"'+s.value+'"',g=/\{([a-zA-Z0-9\-]+)\}/.exec(c);g&&1<g.length&&(g=g[1],S.attributeProps[g]=O[g],d=b+".attributeProps['"+g+"']"),r.push(d)}else r.push('"'+c+'"');else i=c}return{elementType:a,tagAttributesString:0<r.length?","+r.join(","):"",elementKeyID:i}}function g(e){var t=e.value.toLowerCase(),n=j[t];if(!n)return!1;var o,r,a=e.attributes,i={};for(var l in a){var u=a[l].value,s=(o=u)&&/^\{(.*)\}$/.exec(o);if(s&&1<s.length&&s[1]){var p=s[1];O[p]?i[l]=O[p]:i[l]=void 0}else i[l]=u}var c={props:i};void 0!==n.controller&&(r=new n.controller(i),c.controller=r);var f=h(n.template,c),v=m(f),d=R();for(var g in v.unshift({type:"ComponentStart",attributes:{componentID:d}}),v.push({type:"ComponentEnd",attributes:{componentID:d}}),i.props={},i)i.props[g]=i[g];return void 0!==r&&(i.controller=r),_(v,i,"o")}function R(){function e(){return(65536*(1+Math.random())|0).toString(16).substring(1)}return(e()+e()+"-"+e()+"-4"+e().substr(0,3)+"-"+e()+"-"+e()+e()+e()).toLowerCase()}e.applyToDOM=function t(n,o,e){var r=h(o,e.data),a=_(m(r),e.functions,b+".__fn"),i=new Function(b,a.join(""));return S.__fn=e.functions,IncrementalDOM.patch(n,i,S),O={},S={},{update:function(e){t(n,o,e)}}},e.addComponent=function(e){if(!(e=e||{}).componentName||!e.template)return T.warn(L+"You must provide a componentName and template."),!1;var t,n=e.componentName.toLowerCase(),o=e.controller;if(/-[a-zA-Z0-9]+[^-]?$/.test(n)){if(!j[n])return void 0!==o&&"function"==typeof o&&(t=o),j[n]={template:e.template,controller:t},!0;T.warn(L+"A component with name "+n+" has already been added.")}else T.warn(L+"You must provide a valid component name ["+n+"].  It must be kebab case, must contain at least one hyphen, and must not end with a hyphen.")},e.registerData=function(e){var t=R();return O[t]=e,"{"+t+"}"},window.__6oz=e,IncrementalDOM.attributes.props=function(e,t,n){e[t]=n}}();
