/**
 * @license
 * Copyright 2015 The Incremental DOM Authors. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0.
 */
!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?t(exports):"function"==typeof define&&define.amd?define(["exports"],t):t(e.IncrementalDOM={})}(this,function(e){"use strict";function t(){}function n(e,t,n){this.attrsArr=[],this.staticsApplied=!1,this.key=t,this.keyMap=i(),this.focused=!1,this.nameOrCtor=e,this.text=null,this.typeId=n}var r=Object.prototype.hasOwnProperty;t.prototype=Object.create(null);var o=function(e,t){return r.call(e,t)},i=function(){return new t},u=function(e,t){for(;e.length>t;)e.pop()},a=function(e,t,r,o){var i=new n(t,r,o);return e.__incrementalDOMData=i,i},l=function(e){return f(e),e.__incrementalDOMData},f=function(e){if(!e.__incrementalDOMData){var t=1===e.nodeType,n=t?e.localName:e.nodeName,r=t?e.getAttribute("key"):null,o=e.typeId,i=a(e,n,r,o);if(r&&(l(e.parentNode).keyMap[r]=e),t)for(var u=e.attributes,c=i.attrsArr,s=0;s<u.length;s+=1){var p=u[s],d=p.name,v=p.value;c.push(d),c.push(v)}for(var y=e.firstChild;y;y=y.nextSibling)f(y)}},c=function(e,t){return"svg"===e?"http://www.w3.org/2000/svg":"foreignObject"===l(t).nameOrCtor?null:t.namespaceURI},s=function(e,t,n,r,o){var i=void 0;if("function"==typeof n)i=new n;else{var u=c(n,t);i=u?e.createElementNS(u,n):e.createElement(n)}return a(i,n,r,o),i},p=function(e){var t=e.createTextNode("");return a(t,"#text",null),t},d=function(e){return 11===e.nodeType||9===e.nodeType},v=function(e,t){for(var n=[],r=e;r!==t;)n.push(r),r=r.parentNode;return n},y=Node.prototype.getRootNode||function(){for(var e=this,t=e;e;)t=e,e=e.parentNode;return t},h=function(e){var t=y.call(e);return d(t)?t.activeElement:null},m=function(e,t){var n=h(e);return n&&e.contains(n)?v(n,t):[]},g=function(e,t,n){for(var r=t.nextSibling,o=n;o!==t;){var i=o.nextSibling;e.insertBefore(o,r),o=i}},x=("undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:{},null),b=null,w=null,O=function(e,t){for(var n=0;n<e.length;n+=1)l(e[n]).focused=t},k=function(e){var t=function(t,n,r){var o=w,i=x,u=b;w=t.ownerDocument,b=t.parentNode;var a=m(t,b);O(a,!0);var l=e(t,n,r);return O(a,!1),w=o,x=i,b=u,l};return t},N=k(function(e,t,n){return x=e,C(),t(n),j(),e}),A=k(function(e,t,n){var r={nextSibling:e};return x=r,t(n),b&&_(b,D(),e.nextSibling),r===x?null:x}),M=function(e,t,n,r){var o=l(e);return t===o.nameOrCtor&&r===o.typeId&&n==o.key},S=function(e,t,n){if(!x||!M(x,e,t,n)){var r=l(b),o=r.keyMap,i=void 0;if(t){var u=o[t];u&&(M(u,e,t,n)?i=u:l(u).key=null)}i||(i="#text"===e?p(w):s(w,b,e,t,n),t&&(o[t]=i)),l(i).focused?g(b,i,x):b.insertBefore(i,x),x=i}},_=function(e,t,n){for(var r=l(e),o=r.keyMap,i=t;i!==n;){var u=i.nextSibling,a=l(i).key;e.removeChild(i),a&&delete o[a],i=u}},C=function(){b=x,x=null},D=function(){return x?x.nextSibling:b.firstChild},I=function(){x=D()},j=function(){_(b,D(),null),x=b,b=b.parentNode},T=function(e,t,n){return I(),S(e,t,n),C(),b},E=function(){return j(),x},P=function(){return I(),S("#text",null),x},B=function(){return b},R=function(){return D()},L=function(){x=b.lastChild},U=I,V={default:"__default"},X=function(e){return 0===e.lastIndexOf("xml:",0)?"http://www.w3.org/XML/1998/namespace":0===e.lastIndexOf("xlink:",0)?"http://www.w3.org/1999/xlink":void 0},q=function(e,t,n){if(null==n)e.removeAttribute(t);else{var r=X(t);r?e.setAttributeNS(r,t,n):e.setAttribute(t,n)}},z=function(e,t,n){e[t]=n},F=function(e,t,n){t.indexOf("-")>=0?e.setProperty(t,n):e[t]=n},G=function(e,t,n){if("string"==typeof n)e.style.cssText=n;else{e.style.cssText="";var r=e.style,i=n;for(var u in i)o(i,u)&&F(r,u,i[u])}},H=function(e,t,n){var r=typeof n;"object"===r||"function"===r?z(e,t,n):q(e,t,n)},J=function(e,t,n){var r=K[t]||K[V.default];r(e,t,n)},K=i();K[V.default]=H,K.style=G,K.checked=K.className=K.disabled=K.value=z;var Q=3,W=[],Y=i(),Z=function(e,t,n){var r=T(e,t),o=l(r);if(!o.staticsApplied){if(n)for(var i=0;i<n.length;i+=2){var a=n[i],f=n[i+1];J(r,a,f)}o.staticsApplied=!0}for(var c=o.attrsArr,s=!c.length,p=Q,d=0;p<arguments.length;p+=2,d+=2){var a=arguments[p];if(s)c[d]=a;else if(c[d]!==a)break;var f=arguments[p+1];(s||c[d+1]!==f)&&(c[d+1]=f,J(r,a,f))}if(p<arguments.length||d<c.length){for(var v=d;d<c.length;d+=2)Y[c[d]]=c[d+1];for(d=v;p<arguments.length;p+=2,d+=2){var a=arguments[p],f=arguments[p+1];Y[a]!==f&&J(r,a,f),c[d]=a,c[d+1]=f,delete Y[a]}u(c,d);for(var a in Y)J(r,a,void 0),delete Y[a]}return r},$=function(e,t,n){W[0]=e,W[1]=t,W[2]=n},ee=function(e,t){W.push(e),W.push(t)},te=function(){var e=Z.apply(null,W);return u(W,0),e},ne=function(e){var t=E();return t},re=function(e){return Z.apply(null,arguments),ne(e)},oe=function(e){var t=P(),n=l(t);if(n.text!==e){n.text=e;for(var r=e,o=1;o<arguments.length;o+=1){var i=arguments[o];r=i(r)}t.data=r}return t};e.patch=N,e.patchInner=N,e.patchOuter=A,e.open=T,e.close=E,e.currentElement=B,e.currentPointer=R,e.skip=L,e.skipNode=U,e.elementVoid=re,e.elementOpenStart=$,e.elementOpenEnd=te,e.elementOpen=Z,e.elementClose=ne,e.text=oe,e.attr=ee,e.symbols=V,e.attributes=K,e.applyAttr=q,e.applyProp=z,e.importNode=f,Object.defineProperty(e,"__esModule",{value:!0})});

//# sourceMappingURL=incremental-dom-min.js.map
