/**
 * @license
 * Copyright 2015 The Incremental DOM Authors. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0.
 */
!function(t,e){"object"==typeof exports&&"undefined"!=typeof module?e(exports):"function"==typeof define&&define.amd?define(["exports"],e):e(t.IncrementalDOM={})}(this,function(t){"use strict";function e(){}function n(t,e,n){this.attrsArr=[],this.staticsApplied=!1,this.key=e,this.keyMap=i(),this.focused=!1,this.nameOrCtor=t,this.text=null,this.typeId=n}var r=Object.prototype.hasOwnProperty;e.prototype=Object.create(null);var o=function(t,e){return r.call(t,e)},i=function(){return new e},u=function(t,e){for(;t.length>e;)t.pop()},a=function(t,e,r,o){var i=new n(e,r,o);return t.__incrementalDOMData=i,i},f=function(t){return l(t),t.__incrementalDOMData},l=function(t){if(!t.__incrementalDOMData){var e=1===t.nodeType,n=e?t.localName:t.nodeName,r=e?t.getAttribute("key"):null,o=t.typeId,i=a(t,n,r,o);if(r&&(f(t.parentNode).keyMap[r]=t),e)for(var u=t.attributes,c=i.attrsArr,p=0;p<u.length;p+=1){var s=u[p],d=s.name,v=s.value;c.push(d),c.push(v)}for(var y=t.firstChild;y;y=y.nextSibling)l(y)}},c=function(t,e){return"svg"===t?"http://www.w3.org/2000/svg":"foreignObject"===f(e).nameOrCtor?null:e.namespaceURI},p=function(t,e,n,r,o){var i=void 0;if("function"==typeof n)i=new n;else{var u=c(n,e);i=u?t.createElementNS(u,n):t.createElement(n)}return a(i,n,r,o),i},s=function(t){var e=t.createTextNode("");return a(e,"#text",null),e},d=function(t){return 11===t.nodeType||9===t.nodeType},v=function(t,e){for(var n=[],r=t;r!==e;)n.push(r),r=r.parentNode;return n},y=Node.prototype.getRootNode||function(){for(var t=this,e=t;t;)e=t,t=t.parentNode;return e},h=function(t){var e=y.call(t);return d(e)?e.activeElement:null},g=function(t,e){var n=h(t);return n&&t.contains(n)?v(n,e):[]},m=function(t,e,n){for(var r=e.nextSibling,o=n;o!==e;){var i=o.nextSibling;t.insertBefore(o,r),o=i}},x=("undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:{},null),b=null,w=null,O=function(t,e){for(var n=0;n<t.length;n+=1)f(t[n]).focused=e},k=function(t){var e=function(e,n,r){var o=w,i=x,u=b;w=e.ownerDocument,b=e.parentNode;var a=g(e,b);O(a,!0);var f=t(e,n,r);return O(a,!1),w=o,x=i,b=u,f};return e},N=k(function(t,e,n){return x=t,C(),e(n),j(),t}),A=k(function(t,e,n){var r={nextSibling:t};return x=r,e(n),b&&_(b,D(),t.nextSibling),r===x?null:x}),M=function(t,e,n,r){var o=f(t);return e===o.nameOrCtor&&r===o.typeId&&n==o.key},S=function(t,e,n){if(!x||!M(x,t,e,n)){var r=f(b),o=r.keyMap,i=void 0;if(e){var u=o[e];u&&(M(u,t,e,n)?i=u:f(u).key=null)}i||(i="#text"===t?s(w):p(w,b,t,e,n),e&&(o[e]=i)),f(i).focused?m(b,i,x):b.insertBefore(i,x),x=i}},_=function(t,e,n){for(var r=f(t),o=r.keyMap,i=e;i!==n;){var u=i.nextSibling,a=f(i).key;t.removeChild(i),a&&delete o[a],i=u}},C=function(){b=x,x=null},D=function(){return x?x.nextSibling:b.firstChild},I=function(){x=D()},j=function(){_(b,D(),null),x=b,b=b.parentNode},T=function(t,e,n){return I(),S(t,e,n),C(),b},E=function(){return j(),x},P=function(){return I(),S("#text",null),x},B=function(){return b},R=function(){return D()},L=function(){x=b.lastChild},U=I,V={default:"__default"},X=function(t){return 0===t.lastIndexOf("xml:",0)?"http://www.w3.org/XML/1998/namespace":0===t.lastIndexOf("xlink:",0)?"http://www.w3.org/1999/xlink":void 0},q=function(t,e,n){if(null==n)t.removeAttribute(e);else{var r=X(e);r?t.setAttributeNS(r,e,n):t.setAttribute(e,n)}},z=function(t,e,n){t[e]=n},F=function(t,e,n){e.indexOf("-")>=0?t.setProperty(e,n):t[e]=n},G=function(t,e,n){if("string"==typeof n)t.style.cssText=n;else{t.style.cssText="";var r=t.style,i=n;for(var u in i)o(i,u)&&F(r,u,i[u])}},H=function(t,e,n){var r=typeof n;"object"===r||"function"===r?z(t,e,n):q(t,e,n)},J=function(t,e,n){var r=K[e]||K[V.default];r(t,e,n)},K=i();K[V.default]=H,K.style=G;var Q=3,W=[],Y=i(),Z=function(t,e,n){var r=T(t,e),o=f(r);if(!o.staticsApplied){if(n)for(var i=0;i<n.length;i+=2){var a=n[i],l=n[i+1];J(r,a,l)}o.staticsApplied=!0}for(var c=o.attrsArr,p=!c.length,s=Q,d=0;s<arguments.length;s+=2,d+=2){var a=arguments[s];if(p)c[d]=a;else if(c[d]!==a)break;var l=arguments[s+1];(p||c[d+1]!==l)&&(c[d+1]=l,J(r,a,l))}if(s<arguments.length||d<c.length){for(var v=d;d<c.length;d+=2)Y[c[d]]=c[d+1];for(d=v;s<arguments.length;s+=2,d+=2){var a=arguments[s],l=arguments[s+1];Y[a]!==l&&J(r,a,l),c[d]=a,c[d+1]=l,delete Y[a]}u(c,d);for(var a in Y)J(r,a,void 0),delete Y[a]}return r},$=function(t,e,n){W[0]=t,W[1]=e,W[2]=n},tt=function(t,e){W.push(t),W.push(e)},et=function(){var t=Z.apply(null,W);return u(W,0),t},nt=function(t){var e=E();return e},rt=function(t){return Z.apply(null,arguments),nt(t)},ot=function(t){var e=P(),n=f(e);if(n.text!==t){n.text=t;for(var r=t,o=1;o<arguments.length;o+=1){var i=arguments[o];r=i(r)}e.data=r}return e};t.patch=N,t.patchInner=N,t.patchOuter=A,t.open=T,t.close=E,t.currentElement=B,t.currentPointer=R,t.skip=L,t.skipNode=U,t.elementVoid=rt,t.elementOpenStart=$,t.elementOpenEnd=et,t.elementOpen=Z,t.elementClose=nt,t.text=ot,t.attr=tt,t.symbols=V,t.attributes=K,t.applyAttr=q,t.applyProp=z,t.importNode=l,Object.defineProperty(t,"__esModule",{value:!0})});

//# sourceMappingURL=incremental-dom-min.js.map
